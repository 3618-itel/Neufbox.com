<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Horloge Neufbox Crystal</title>

  <style>
    @font-face {
      font-family: 'Quartz MS Std';
      src: local('Quartz MS Std Regular'), local('Quartz MS Std');
    }

    body {
      margin: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      font-family: 'DS-Digital', 'Digital-7', monospace;
      overflow: hidden;
    }

    .stack {
      width: 100vw;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .freebox {
      width: 100%;
      height: 160px;
      border-radius: 0;
      background: linear-gradient(180deg, #f7f7f7, #cfcfcf);
      box-shadow:
        inset 0 1px 2px rgba(255,255,255,0.9),
        inset 0 -2px 4px rgba(0,0,0,0.2),
        0 12px 25px rgba(0,0,0,0.25);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .decoder {
      height: 120px;
      background: linear-gradient(180deg, #111111, #000000);
      box-shadow:
        inset 0 1px 2px rgba(255,255,255,0.05),
        inset 0 -2px 4px rgba(0,0,0,0.9),
        0 10px 20px rgba(0,0,0,0.4);
      position: relative;
      display: flex;
      align-items: center;
      padding-left: 10px;
    }

    .screen {
      width: 350px;
      height: 78px;
      background: linear-gradient(180deg, #07140d 0%, #020805 100%);
      border-radius: 6px;
      box-shadow:
        inset 0 0 18px rgba(0,255,120,0.25),
        inset 0 0 3px rgba(0,0,0,1),
        0 0 2px rgba(0,0,0,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .time {
      color: #38ff9c;
      font-size: 66px;
      letter-spacing: 6px;
      font-family: 'DS-Digital', 'Digital-7', monospace;
      text-shadow:
        0 0 6px rgba(56,255,156,0.9),
        0 0 14px rgba(56,255,156,0.5);
    }

    .logo {
      position: absolute;
      bottom: 5px;
      right: 5px;
      width: 300px;
      height: auto;
      z-index: 10;
    }

    .channel-display {
      margin-left: 20px;
      font-family: 'DS-Digital', 'Digital-7', monospace;
      display: flex;
      flex-direction: column;
    }

    .channel-type, .channel-quality {
      font-size: 12px;
      color: #888888;
      margin-bottom: 2px;
    }

    .channel-type span, .channel-quality span {
      margin-right: 12px;
    }

    .channel-name-container {
      width: 200px;
      overflow: hidden;
      white-space: nowrap;
    }

    .channel-name {
      font-size: 28px;
      font-weight: bold;
      color: #7fbfff;
      display: inline-block;
      padding-left: 100%;
      animation: scroll 10s linear infinite;
      cursor: pointer;
    }

    @keyframes scroll {
      0% { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }

    .buttons {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-right: 10px;
    }

    .buttons button {
      width: 60px;
      height: 25px;
      font-size: 12px;
      cursor: pointer;
    }

    .disabled {
      opacity: 0.3;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="stack">
    <div class="freebox modem">
      <div class="screen">
        <div id="time" class="time">NEUFBOX</div>
      </div>
      <img class="logo" src="https://i.postimg.cc/m2mgYh4B/Neufbox-crystal-DSL-cable.png" alt="Neufbox Logo">
    </div>

    <div class="freebox decoder">
      <div class="buttons">
        <button id="power">On/Off</button>
        <button id="next">Chaine+</button>
        <button id="prev">Chaine-</button>
      </div>
      <div class="channel-display">
        <div class="channel-type">
          <span id="tnt">TNT</span>
          <span id="analo">ANALO</span>
          <span id="adsl">ADSL</span>
        </div>
        <div class="channel-name-container">
          <div id="channel-name" class="channel-name"></div>
          <input id="channel-input" type="number" inputmode="numeric" pattern="[0-9]*" style="position:absolute;opacity:0;width:1px;height:1px;" />
        </div>
        <div class="channel-quality">
          <span id="hd">HD</span>
          <span id="sd">SD</span>
          <span id="uhd">UHD</span>
        </div>
      </div>
    </div>

    <button id="toggle-remote" style="margin-top:10px;">Télécommande</button>
    <div id="remote" style="display:none;margin-top:10px; padding:10px; border:1px solid #999; width:160px;">
      <div style="margin-bottom:6px;">
        <button data-action="power">On/Off</button>
      </div>
      <div style="margin-bottom:6px;">
        <button data-action="prev">Ch-</button>
        <button data-action="next">Ch+</button>
      </div>
      <div>
        <button class="num">1</button><button class="num">2</button><button class="num">3</button><br>
        <button class="num">4</button><button class="num">5</button><button class="num">6</button><br>
        <button class="num">7</button><button class="num">8</button><button class="num">9</button><br>
        <button class="num">0</button>
      </div>
    </div>
  </div>
  </div>
    </div>
  </div>

  <script>
    let booting = true;
    let decoderOn = false;
    let currentChannel = 1;
    const channels = [
      {num:1,name:'RTL',pico:'TNT-HD'},
      {num:2,name:'Antenne gerland',pico:'TNT-HD'},
      {num:3,name:'France2',pico:'analo-SD'},
      {num:4,name:'France3',pico:'analo-SD'},
      {num:5,name:'TF1',pico:'analo-SD'},
      {num:6,name:'RTL-TVI',pico:'TNT-HD'},
      {num:7,name:'TF1 HD',pico:'TNT-HD'},
      {num:8,name:'Direct8',pico:'analo-SD'},
      {num:9,name:'RTL9',pico:'Adsl-HD'},
      {num:10,name:'TMC',pico:'analo-SD'},
      {num:11,name:'NT1',pico:'analo-SD'},
      {num:12,name:'NRJ12',pico:'TNT-HD'},
      {num:13,name:'TEVA',pico:'Adsl-SD'},
      {num:14,name:'rtbf la une',pico:'TNT-UHD'},
      {num:15,name:'RTL-tvi.be',pico:'TNT-UHD'},
      {num:16,name:'rtbf Tipik',pico:'TNT-UHD'},
      {num:17,name:'rtbf la trois',pico:'TNT-UHD'},
      {num:18,name:'RTS UN',pico:'Adsl-UHD'},
      {num:19,name:'RTS DEUX',pico:'Adsl-UHD'},
      {num:20,name:'HD1',pico:'Adsl-HD'},
      {num:21,name:'AB3',pico:'Adsl-UHD'},
      {num:22,name:'AB2',pico:'TNT-HD'},
      {num:23,name:'Numero 23',pico:'TNT-HD'},
      {num:24,name:'ABx',pico:'Adsl-UHD'},
      {num:25,name:'Chérie 25',pico:'TNT-HD'}
    ];

    function displayChannel(num) {
      const ch = channels.find(c=>c.num===num);
      if (!ch) return;
      const channelNameEl = document.getElementById('channel-name');
      channelNameEl.textContent = `${ch.num}-${ch.name}`;
      channelNameEl.style.color = decoderOn ? '#7fbfff' : '#888888';

      // reset all pico colors
      ['tnt','analo','adsl','hd','sd','uhd'].forEach(id=>document.getElementById(id).style.color='#888888');
      if (!decoderOn) return;
      ch.pico.split('-').forEach(pico=>{
        pico = pico.toLowerCase();
        if(pico==='tnt') document.getElementById('tnt').style.color='#7fbfff';
        else if(pico==='analo') document.getElementById('analo').style.color='#7fbfff';
        else if(pico==='adsl') document.getElementById('adsl').style.color='#7fbfff';
        else if(pico==='hd') document.getElementById('hd').style.color='#7fbfff';
        else if(pico==='sd') document.getElementById('sd').style.color='#7fbfff';
        else if(pico==='uhd') document.getElementById('uhd').style.color='#7fbfff';
      });
    }

    document.getElementById('next').addEventListener('click',()=>{if(decoderOn){currentChannel = currentChannel < channels.length ? currentChannel+1 : 1; displayChannel(currentChannel);}});
    document.getElementById('prev').addEventListener('click',()=>{if(decoderOn){currentChannel = currentChannel > 1 ? currentChannel-1 : channels.length; displayChannel(currentChannel);}});
    const channelNameEl = document.getElementById('channel-name');
const channelInput = document.getElementById('channel-input');

channelNameEl.addEventListener('click', () => {
  if (!decoderOn) return;
  channelInput.value = '';
  channelInput.focus();
});

channelInput.addEventListener('change', () => {
  const n = parseInt(channelInput.value);
  if (!isNaN(n)) {
    currentChannel = n;
    displayChannel(currentChannel);
  }
});

// clavier PC
window.addEventListener('keydown', (e) => {
  if (!decoderOn) return;
  if (e.key >= '0' && e.key <= '9') {
    channelInput.value += e.key;
  }
  if (e.key === 'Enter') {
    const n = parseInt(channelInput.value);
    if (!isNaN(n)) {
      currentChannel = n;
      displayChannel(currentChannel);
      channelInput.value = '';
    }
  }
});

    document.getElementById('power').addEventListener('click',()=>{
      decoderOn = !decoderOn;
      displayChannel(currentChannel);
    });

    function startBoot(duration = 120000) {
      const timeEl = document.getElementById('time');
      booting = true;
      timeEl.innerHTML = `<img src="https://i.postimg.cc/zfYxWftx/chenillardrapide.gif" style="max-width:100%;max-height:100%;">`;
      setTimeout(() => {
        booting = false;
        updateTime();
      }, duration);
    }

    function updateTime() {
      if (booting) return;
      const now = new Date();
      const h = String(now.getHours()).padStart(2, '0');
      const m = String(now.getMinutes()).padStart(2, '0');
      const s = now.getSeconds();
      const colon = s % 2 === 0 ? ':' : ' ';
      document.getElementById('time').textContent = `${h}${colon}${m}`;
    }

    function scheduleHalfHourBoot() {
      const now = new Date();
      const delay = (30 - now.getMinutes() % 30) * 60 * 1000 - now.getSeconds() * 1000 - now.getMilliseconds();
      setTimeout(() => {
        const timeEl = document.getElementById('time');
        booting = true;
        timeEl.innerHTML = `<img src="https://i.postimg.cc/fL27HWCN/majfirmware.gif" style="max-width:100%;max-height:100%;">`;
        setTimeout(() => {
          booting = false;
          updateTime();
        }, 90000);
        scheduleHalfHourBoot();
      }, delay);
    }

    startBoot();
    scheduleHalfHourBoot();
    setInterval(() => {
      const now = new Date();
      // animation minuit
      if (now.getHours() === 0 && now.getMinutes() === 0 && now.getSeconds() === 0) {
        const timeEl = document.getElementById('time');
        booting = true;
        timeEl.innerHTML = `<img src="https://i.postimg.cc/YCzd6HJP/rectanglefixe.gif" style="max-width:100%;max-height:100%;">`;
        setTimeout(() => {
          booting = false;
          updateTime();
        }, 30000);
      } else {
        updateTime();
      }
    },1000);
    // TELECOMMANDE toggle
    const toggleBtn = document.getElementById('toggle-remote');
    const remote = document.getElementById('remote');

    toggleBtn.addEventListener('click', () => {
      remote.style.display = remote.style.display === 'none' ? 'block' : 'none';
    });

    // actions télécommande
    remote.addEventListener('click', (e) => {
      const btn = e.target;
      if (btn.dataset.action === 'power') document.getElementById('power').click();
      if (btn.dataset.action === 'next') document.getElementById('next').click();
      if (btn.dataset.action === 'prev') document.getElementById('prev').click();
      if (btn.classList.contains('num')) {
        if (!decoderOn) return;
        channelInput.value += btn.textContent;
        clearTimeout(window.numTimer);
        window.numTimer = setTimeout(() => {
          const n = parseInt(channelInput.value);
          if (!isNaN(n)) {
            currentChannel = n;
            displayChannel(currentChannel);
          }
          channelInput.value = '';
        }, 1200);
      }
    });

</script>
</body>
</html>

